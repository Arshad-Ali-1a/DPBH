DNS USING SERVER SIDE                                                                                                                    import java.util.*;
import java.io.*;
import java.net.*;

public class DNSServer {
    ServerSocket server;
    Socket connection;
    DataOutputStream output;
    DataInputStream input;
    String s;
    Properties clients = new Properties();
    FileInputStream fin = null;
    FileOutputStream fout = null;

    DNSServer() {
        try {
            fin = new FileInputStream("NameList.txt");
            if (fin != null) {
                clients.load(fin);
                fin.close();
            }
            server = new ServerSocket(8037);
            connection = server.accept();
            output = new DataOutputStream(connection.getOutputStream());
            input = new DataInputStream(connection.getInputStream());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    void runServer() {
        while (true) {
            try {
                s = input.readUTF();
                if (s.equals("lookup")) {
                    String s2 = input.readUTF();
                    System.out.println(s2);
                    String s1 = lookup(s2);
                    if (s1 == null)
                        output.writeUTF("host name not found");
                    else
                        output.writeUTF(s1);
                } else if (s.equals("addhost")) {
                    String s1 = input.readUTF();
                    String s2 = input.readUTF();
                    boolean b = addhost(s1, s2);
                    if (b)
                        output.writeUTF("host name registered");
                    else
                        output.writeUTF("host name already existing");
                } else if (s.equals("Remove")) {
                    String s2 = input.readUTF();
                    System.out.println(s2);
                    String s1 = (String) clients.remove(s2);
                    System.out.println(s1);
                    if (s1 == null)
                        output.writeUTF("host name not found");
                    else
                        output.writeUTF("the ip address is " + s1 + " Removed");
                    fout = new FileOutputStream("NameList.txt");
                    clients.store(fout, "NameSpace");
                    fout.close();
                } else if (s.equals("Close")) {
                    System.exit(0);
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }

    boolean addhost(String name, String ip) {
        if (clients.get(name) != null)
            return false;
        clients.put(name, ip);
        try {
            fout = new FileOutputStream("NameList.txt");
            clients.store(fout, "NameSpace");
            fout.close();
        } catch (IOException ex) {
            ex.printStackTrace();
        }
        return true;
    }

    String lookup(String host) {
        return (String) clients.get(host);
    }

    public static void main(String args[]) {
        DNSServer s = new DNSServer();
        s.runServer();
    }
}